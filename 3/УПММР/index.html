
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.5.4">
    
    
      
        <title>3/УПММР - Спецификации на АММОР</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-b1a1975878.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-f78e5cb881.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="orange" data-md-color-accent="light-green">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="../.." title="Спецификации на АММОР" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Заготовки
                </span>
              
            
            3/УПММР
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Спецификации на АММОР
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Техническая документация Trubot" class="md-nav__link">
      Техническая документация Trubot
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Заготовки
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Заготовки
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        3/УПММР
      </label>
    
    <a href="./" title="3/УПММР" class="md-nav__link md-nav__link--active">
      3/УПММР
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" title="Управление питанием в модульном мобильном роботе" class="md-nav__link">
    Управление питанием в модульном мобильном роботе
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" title="Преамбула" class="md-nav__link">
    Преамбула
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" title="Цель документа" class="md-nav__link">
    Цель документа
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" title="Силовой модуль" class="md-nav__link">
    Силовой модуль
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" title="Алгоритм безопасного отключения питания" class="md-nav__link">
    Алгоритм безопасного отключения питания
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4/ОСС/" title="4/ОСС" class="md-nav__link">
      4/ОСС
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Черновики
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Черновики
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../1/ПММВ/" title="1/ПММВ" class="md-nav__link">
      1/ПММВ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" title="Управление питанием в модульном мобильном роботе" class="md-nav__link">
    Управление питанием в модульном мобильном роботе
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" title="Преамбула" class="md-nav__link">
    Преамбула
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" title="Цель документа" class="md-nav__link">
    Цель документа
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" title="Силовой модуль" class="md-nav__link">
    Силовой модуль
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" title="Алгоритм безопасного отключения питания" class="md-nav__link">
    Алгоритм безопасного отключения питания
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="_1">УПММР</h1>
<h2 id="_2">Управление питанием в модульном мобильном роботе</h2>
<p>Этот документ рассказывает об алгоритме управления питанием в модульном мобильном роботе, а именно о взаимодействиях между силовым модулем (СМ) и модулем сетевого управления (МСУ).</p>
<ul>
<li>Имя: 3/УПММР</li>
<li>Статус: заготовка (raw)</li>
<li>Редактор: Плетенев Павел Филиппович <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#60;&#99;&#112;&#112;&#46;&#99;&#114;&#101;&#97;&#116;&#101;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">&lt;&#99;&#112;&#112;&#46;&#99;&#114;&#101;&#97;&#116;&#101;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;</a>&gt;.</li>
<li>Соавторы: Андреев Виктор Павлович <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#60;&#97;&#110;&#100;&#114;&#101;&#101;&#118;&#118;&#105;&#112;&#97;&#64;&#121;&#97;&#110;&#100;&#101;&#120;&#46;&#114;&#117;">&lt;&#97;&#110;&#100;&#114;&#101;&#101;&#118;&#118;&#105;&#112;&#97;&#64;&#121;&#97;&#110;&#100;&#101;&#120;&#46;&#114;&#117;</a>&gt;, Ким Валерий Леонидович <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#60;&#116;&#111;&#112;&#55;&#55;&#51;&#51;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">&lt;&#116;&#111;&#112;&#55;&#55;&#51;&#51;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;</a>&gt;</li>
</ul>
<h3 id="_3">Преамбула</h3>
<p>Это открытая спецификация, она создаётся и управляется на основе перевода спецификации Консенсус-Ориентированной Системы Спецификации (<a href="../digistan.org/1/КОСС">digistan.org/1/КОСС</a>) организации Digital Standards Organization.</p>
<p>Термины "ДОЛЖНО", "ДОЛЖНА", "ДОЛЖНЫ", "ДОЛЖЕН", "ОБЯЗАТЕЛЬНЫЙ", "ОБЯЗАТЕЛЬНО" (MUST, REQUIRED, SHALL), "НЕ ДОЛЖЕН", НЕ ДОЛЖНА", "НЕ ДОЛЖНЫ" (MUST NOT, SHALL NOT), "РЕКОМЕНДОВАНО" (SHOULD, RECOMMENDED), "НЕ РЕКОМЕНДОВАНО" (SHOULD NOT, NOT RECOMMENDED), "МОГУТ", "МОЖЕТ" (MAY, OPTIONAL) в рамках этого документа ДОЛЖНЫ интерпретироваться в соответствии с RFC 2119[REFERENCES].</p>
<p>В документе используются определения и понятия из спецификации <a href="../../1/ПММВ/">1/ПММВ</a>.</p>
<h3 id="_4">Цель документа</h3>
<p>УПММР рассказывает об основных функциях и системе команд силового модуля(СМ), алгоритмах реализации системы команд и о реализации принципов распределённого питания модулей для гетерогенного модульного мобильного робота (МР).</p>
<h3 id="_5">Силовой модуль</h3>
<p>Силовой модуль должен иметь на борту источник электроэнергии и выдавать электроэнергию в разъёмы питания механических интерфейсов.</p>
<p>Напряжение, подаваемое СМ в другие модули должно быть единым с другими модулями, входящим  комплект модульного МР. Ток, подаваемый СМ, должен быть постоянным и достаточным для питания всех модулей. СМ должен реализовывать функции амерметра и вольметра, и, наблюдая за из показаниями, выявлять критические для источника питания режимы работы. О таких режимах модуль должен сообщать через асинхронный интерфейс. Через синхронный интерфейс модуль должен выдавать текущие показания вольтметра и амперметра.</p>
<p>Пользователь силового модуля должен иметь возможность включения и выключения робота без вреда для систем управления всех модулей. Т.к. подавляющее большинство модулей при подаче питания включаются автоматически, то необходимо контролировать только выключение питания. Алгоритм контроля выключения см. далее.</p>
<p>Модуль реализует команды метинтерфейса.</p>
<h3 id="_6">Алгоритм безопасного отключения питания</h3>
<p>На корпусе силового модуля должна быть установлена одна физическая кнопка со светодидом.</p>
<p>Алгоритм предполагает 4 состояния в которых может находится силовой модуль:</p>
<ol>
<li>Включение - питание на отдельные модули подано, модули производят начальную настройку.</li>
<li>Включен - питание на отдельные модули подано, нормальная работа модульного МР.</li>
<li>Выключение - питание на отдельные модули подано, модули производят процедуры по безопасному выключению.</li>
<li>Выключен - питание на отдельные модули отключено.</li>
</ol>
<p><img alt="Состояния модульного МР" src="../states.svg" /></p>
<ul>
<li>Если робот находился в состоянии "выключен", то однократное нажатие на кнопку на корпусе силового модуля приводит к подаче питания с силового модуля на остальные модули и на управляющую плату силового модуля, силовой модуль переходит в состояние "включение"</li>
<li>Если робот находился в состоянии "включение", то при получении на метаинтерфейсе силового модуля команды "found_module" с метаинформацией о МСУ силовой модуль переходит в состояние "включен".</li>
<li>Если робот находился в состоянии "включен", то однократное нажатие на эту кнпоку приводит к передаче сообщения о выключении робота с силового модуля на модуль сетевого управления. Робот переходит в состояние "выключение". При этом модуль сетевого управления в ответном сообщении указывает силовому модулю период времени, по прошествии которого можно будет безопасно отключить питание.</li>
<li>Если робот находился в состоянии "выключение" и проходит время, отведённое МСУ на выключение, то силовой модуль отключает подачу питания на остальные модули и на управляющую плату силового модуля.</li>
</ul>
<p><img alt="Типовой цикл работы силового модуля" src="../algo.svg" /></p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../.." title="Техническая документация Trubot" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Техническая документация Trubot
              </span>
            </div>
          </a>
        
        
          <a href="../../4/ОСС/" title="4/ОСС" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                4/ОСС
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-0b7df094bf.js"></script>
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>