
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.16.3, mkdocs-material-1.5.4">
    
    
      
        <title>1/ПММВ - Спецификации на АММОР</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-56ade86843.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-b1a1975878.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-f78e5cb881.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="orange" data-md-color-accent="light-green">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <a href="../.." title="Спецификации на АММОР" class="md-icon md-icon--home md-header-nav__button">
          </a>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Черновики
                </span>
              
            
            1/ПММВ
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">close</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    
      <i class="md-icon md-icon--home md-nav__button"></i>
    
    Спецификации на АММОР
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Общая страница" class="md-nav__link">
      Общая страница
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Заготовки
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Заготовки
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../3/УПММР/" title="3/УПММР" class="md-nav__link">
      3/УПММР
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4/ОСС/" title="4/ОСС" class="md-nav__link">
      4/ОСС
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Черновики
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Черновики
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        1/ПММВ
      </label>
    
    <a href="./" title="1/ПММВ" class="md-nav__link md-nav__link--active">
      1/ПММВ
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" title="Протокол взаимодействия в гетерогенном модульном мобильном роботе" class="md-nav__link">
    Протокол взаимодействия в гетерогенном модульном мобильном роботе
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" title="Преамбула" class="md-nav__link">
    Преамбула
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" title="Модульный принцип" class="md-nav__link">
    Модульный принцип
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" title="Термины" class="md-nav__link">
    Термины
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" title="Сетевой интерфейс модуля" class="md-nav__link">
    Сетевой интерфейс модуля
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" title="Метаинтерфейс модуля" class="md-nav__link">
    Метаинтерфейс модуля
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" title="Общие для всех модулей команды" class="md-nav__link">
    Общие для всех модулей команды
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" title="Метаданные модуля" class="md-nav__link">
    Метаданные модуля
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" title="Сетевой протокол работы супервизора" class="md-nav__link">
    Сетевой протокол работы супервизора
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" title="Нормативные ссылки." class="md-nav__link">
    Нормативные ссылки.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" title="Протокол взаимодействия в гетерогенном модульном мобильном роботе" class="md-nav__link">
    Протокол взаимодействия в гетерогенном модульном мобильном роботе
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" title="Преамбула" class="md-nav__link">
    Преамбула
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" title="Модульный принцип" class="md-nav__link">
    Модульный принцип
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" title="Термины" class="md-nav__link">
    Термины
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" title="Сетевой интерфейс модуля" class="md-nav__link">
    Сетевой интерфейс модуля
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" title="Метаинтерфейс модуля" class="md-nav__link">
    Метаинтерфейс модуля
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_8" title="Общие для всех модулей команды" class="md-nav__link">
    Общие для всех модулей команды
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" title="Метаданные модуля" class="md-nav__link">
    Метаданные модуля
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" title="Сетевой протокол работы супервизора" class="md-nav__link">
    Сетевой протокол работы супервизора
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" title="Нормативные ссылки." class="md-nav__link">
    Нормативные ссылки.
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="_1">ПММВ</h1>
<h2 id="_2">Протокол взаимодействия в гетерогенном модульном мобильном роботе</h2>
<p>Протокол межмодульного взаимодействия (ПММВ) - это протокол обмена данными в модульном мобильном роботе.</p>
<ul>
<li>Имя: 1/ПММВ</li>
<li>Статус: черновик (draft)</li>
<li>Автор: Плетенев Павел Филиппович <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#60;&#99;&#112;&#112;&#46;&#99;&#114;&#101;&#97;&#116;&#101;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">&lt;&#99;&#112;&#112;&#46;&#99;&#114;&#101;&#97;&#116;&#101;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;</a>&gt;.</li>
<li>Соавторы: Андреев Виктор Павлович <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#97;&#110;&#100;&#114;&#101;&#101;&#118;&#118;&#105;&#112;&#97;&#64;&#121;&#97;&#110;&#100;&#101;&#120;&#46;&#114;&#117;">&#97;&#110;&#100;&#114;&#101;&#101;&#118;&#118;&#105;&#112;&#97;&#64;&#121;&#97;&#110;&#100;&#101;&#120;&#46;&#114;&#117;</a>&gt;, Ким Валерий Леонидович <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#60;&#116;&#111;&#112;&#55;&#55;&#51;&#51;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">&lt;&#116;&#111;&#112;&#55;&#55;&#51;&#51;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;</a>&gt;, Кирсанов Кирилл Борисович <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#60;&#107;&#107;&#105;&#114;&#115;&#97;&#110;&#111;&#118;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;">&lt;&#107;&#107;&#105;&#114;&#115;&#97;&#110;&#111;&#118;&#64;&#103;&#109;&#97;&#105;&#108;&#46;&#99;&#111;&#109;</a>&gt;.</li>
</ul>
<h3 id="_3">Преамбула</h3>
<p>Это открытая спецификация, она создаётся и управляется на основе <a href="https://asmfreak.github.io/rfc_translations/digistan.org/1/%D0%9A%D0%9E%D0%A1%D0%A1/">Консенсус-Ориентированной Системы Спецификации организации Digital Standards Organization</a>. </p>
<p>Термины "ДОЛЖНО", "ДОЛЖНА", "ДОЛЖНЫ", "ДОЛЖЕН", "ОБЯЗАТЕЛЬНЫЙ", "ОБЯЗАТЕЛЬНО" (MUST, REQUIRED, SHALL), "НЕ ДОЛЖЕН", НЕ ДОЛЖНА", "НЕ ДОЛЖНЫ" (MUST NOT, SHALL NOT), "РЕКОМЕНДОВАНО" (SHOULD, RECOMMENDED), "НЕ РЕКОМЕНДОВАНО" (SHOULD NOT, NOT RECOMMENDED), "МОГУТ", "МОЖЕТ" (MAY, OPTIONAL) в рамках этого документа ДОЛЖНЫ интерпретироваться в соответствии с RFC 2119[REFERENCES].</p>
<h3 id="_4">Модульный принцип</h3>
<p>Данный документ использует модульный принцип построения мобильного робота. Более подробно он описан в [ANDREEV_ER-2016]. Далее приведены положения этого принципа:</p>
<ul>
<li>информационно-измерительная и управляющая система (ИИУС) робота ДОЛЖНА строится как локальная вычислительная сеть (LAN), узлами которой ДОЛЖНЫ являться модули;</li>
<li>каждый модуль ДОЛЖЕН быть функционально завершённым электронным или мехатронным устройством со своей собственной ИИУС;</li>
<li>каждый модуль ДОЛЖЕН предоставлять сетевой интерфейс соответствующий данному документу;</li>
<li>при построении аппаратной части модулей ДОЛЖЕН использоваться принцип распределённого стабилизированного питания [описание?].</li>
</ul>
<h3 id="_5">Термины</h3>
<p>Для специфицирования формата данных в документе используется следующая терминология:</p>
<p>"<code>число</code>"  - это целое или вещественное число.
"<code>строка</code>"  - это последовательность символов в кодировке UTF-8.
Именем "<code>объект</code>" называются число, строка, словарь-отображение и список.
"<code>словарь-отображение</code>" - хранит данные в виде списка <code>ключей</code>, которые ссылаются на некоторые <code>значения</code>.
"<code>ключ</code>" - это <code>строка</code>
"<code>значение</code>" представляет собой <code>объект</code>.
"<code>список</code>" содержит последовательность объектов.
В корне любой структуры ДОЛЖЕН находится "<code>корневой-объект</code>" - словарь-отоображение.
"<code>последовательность-байт</code>" - это последовательность байт произвольной длины.</p>
<p>Спецификация преобразования - это описание алгоритма, который переводит <code>корневой-объект</code> в <code>последовательность-байт</code> и <code>последовательность-байт</code> в <code>корневой-объект</code>.</p>
<p>Далее в документе в сочетании слов
  <code>ключ  "word"</code>
  символы в кавычках ДОЛЖНЫ интерпретироваться как строка, чувствительная к регистру.</p>
<p>При описании словарей-отображений используется следующее соглашение: все ОБЯЗАТЕЛЬНЫЕ ключи ДОЛЖНЫ присутствовать в описываемом словаре, а остальные МОГУТ присутствовать, если не описано иначе.</p>
<p>В некоторых спецификациях преобразования важна последовательность ключей в словарях-отображениях, которая не гарантируется в некоторых языках программирования. Поэтому после любого преобразования ОБЯЗАТЕЛЬНЫЕ ключи ДОЛЖНЫ следовать именно в том порядке, в каком они перечислены в данном документе.</p>
<p>Термин "сетевой интерфейс" в контексте этого документа определяется как один или несколько сокетов, реализующих спецификацию ZMTP/23[ZMTP/23], которые получают и/или предоставляют информацию. Сетевой интерфейс принимает и отправляет сообщения в виде последовательности байт, которые он преобразует в/из объект.</p>
<ul>
<li>
<p>"Синхронным" называется сокет, работающий по спецификации REP [ZMQREPREQ]. При этом он сначала получает запрос, затем посылает ответ.</p>
</li>
<li>
<p>"Асинхронным" называется сокет, работающий по спецификации PUB [ZMQPUBSUB]. При этом он только отправляет сообщения, не получая ничего в ответ.</p>
</li>
<li>
<p>Мнемоническое имя - это последовательность байт, которая может состоять из любых символов, закодированных с использованием UTF-8.</p>
</li>
<li>
<p>Имя - это строка, содержащая ТОЛЬКО символы A-Z, a-z, 0-9, и символы запятой, точки и нижнего подчёркивания.</p>
</li>
<li>
<p>Команда - это словарь-отображение, который содержит следующие ключи:</p>
<ul>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "action" - ДОЛЖЕН содержать мнемоническое имя или номер команды.</li>
<li>любые другие ключи кроме "action" с любыми значениями - аргументы команды.</li>
</ul>
</li>
<li>
<p>Команды передаются как запросы через синхронный сокет. Модуль ДОЛЖЕН дать ответ на команду как можно скорее.</p>
</li>
<li>
<p>Результаты работы команд, которые нельзя вернуть сразу же ДОЛЖНЫ передаваться через асинхронный сокет.</p>
</li>
</ul>
<h3 id="_6">Сетевой интерфейс модуля</h3>
<ul>
<li>Модуль ДОЛЖЕН иметь интерфейс для работы в сети Ethernet.</li>
<li>Модуль ДОЛЖЕН предоставлять один или несколько сетевых интерфейсов для управления и/или получения показаний.</li>
<li>Модуль ДОЛЖЕН иметь специальный сетевой интерфейс, называемый далее метаинтерфейсом модуля.</li>
</ul>
<h4 id="_7">Метаинтерфейс модуля</h4>
<ul>
<li>Метаинтерфейс модуля ДОЛЖЕН выполнять общие для всех модулей команды.</li>
</ul>
<h5 id="_8">Общие для всех модулей команды</h5>
<ul>
<li>Исходя из принципов модульности, каждый модуль должен выполнять следующие общие для всех модулей команды.</li>
<li>На команду "ping" метаинтерфейс ДОЛЖЕН в ответ отправить словарь-отображение с ключом "status" и значением "ok". Эта команда используется для обнаружения модуля.</li>
<li>На команду "metadata" метаинтерфейс ДОЛЖЕН в ответ отправить метаданные модуля, описываемые ниже.</li>
<li>На команду "found_module" с аргументом "metadata" метаинтерфейс ДОЛЖЕН в ответ отправить словарь-отображение с ключом "status" и значением "ok". Эта команда означает, что подающим эту команду супервизором найден модуль c метаданными "metadata". При этом получивший команду модуль МОЖЕТ самостоятельно запросить у новонайденного модуля метаинформацию через сетевой протокол супервизора, описываемый ниже.</li>
<li>На команду "shutdown" метаинтерфейс ДОЛЖЕН в ответ отправить словарь-отображение с ключом "status" и значением "ok" и ключом "estimated_time" со значением оценки времени выключения в секундах. После получения этой команды метаинтерфейс модуля ДОЛЖЕН начать процедуру "легального" выключения модуля.</li>
<li>На команду "known_modules" метаинтерфейс ДОЛЖЕН в ответ отправить словарь-отображение с ключом "addresses" и значением списка известных ему IP-адресов других модулей. Метаинтерфейс МОЖЕТ вести такой список.</li>
</ul>
<h5 id="_9">Метаданные модуля</h5>
<ul>
<li>Метаданные модуля ДОЛЖНЫ быть представлены в виде словаря-отображения строка - значение и ДОЛЖНЫ отображать все функции модуля.</li>
<li>Словарь метаданных модуля ДОЛЖЕН быть преобразован в формат JSON для предоставления через метаинтерфейс модуля в виде последовательности байт.</li>
<li>Словарь метаданных модуля :<ul>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "name" содержит строку имени модуля;</li>
<li>ключ "description" - строка с описанием модуля на естественном языке;</li>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "address" - строка состоящую из 4 целых чисел  в интервале [0, 255] разделённых символом точки ".", которая определяет IP-адрес модуля;</li>
<li>ключ "parameters" - формальное описание настраиваемых параметров модуля и ДОЛЖЕН содержать одно из следующих значений:<ul>
<li>строка "none" - интерфейс не имеет выходных данных;</li>
<li>список словарей-отображений свойств величины:<ul>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "name" - строка имени параметра;</li>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "unit" - строка мнемонического имени единицы измерения параметра;</li>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "default" - умолчательное значение параметра;</li>
<li>ключ "type" - тип параметра;</li>
<li>ключ "description" - описание параметра на естественном языке;</li>
</ul>
</li>
</ul>
</li>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "interfaces" - словарь-отображение мнемонического имени интерфейса на словарь его свойств:</li>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "sockets" - непустой словарь-отображение целочисленного номера порта, записанного в виде строки, в тип сокета в виде строки, который ДОЛЖЕН принимать следующие значения:<ul>
<li>"sync" - сокет считается "синхронным";</li>
<li>"async" - сокет считается "асинхронным" - он работает по спецификации PUB [ZMQPUBSUB];</li>
<li>"asyncudp" - сокет считается "асинхронным", но работает по протоколу UDP;</li>
</ul>
</li>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "serialization"  ДОЛЖЕН содержать способ преобразования данных и команд в строки и ДОЛЖЕН принимать одно из следующих значений:<ul>
<li>"json" - означает, что используется спецификация преобразования JSON [JSONSPEC]</li>
<li>"bson" - означает, что используется спецификация преобразования BSON [BSONSPEC]</li>
<li>"msgp" - означает, что используется спецификация преобразования MSGPACK [MSGPACKSPEC]</li>
</ul>
</li>
<li>ключ "input" ДОЛЖЕН являться формальным описанием команд, которые можно послать модулю, и ДОЛЖЕН содержать одно из следующих значений:<ul>
<li>строка "none" - интерфейс не имеет входных команд, если ключ "input" не задан - это занчение принимается по умолчанию;</li>
<li>список словарей-отображений свойств команды (номер команды получается из её индекса):<ul>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "name" ДОЛЖЕН содержать строку - мнемоническое имя команды;</li>
<li>ключ "args" - свойства аргумента и ДОЛЖЕН содержать одно из следующих значений:<ul>
<li>строка "none" - команда не имеет аргументов;</li>
<li>список словарей-отображений свойств значения:<ul>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "name" ДОЛЖЕН содержать строку имени аргумента.</li>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "unit" ДОЛЖЕН содержать строку мнемонического имени единицы измерения аргумента.</li>
<li>ключ "type" - тип аргумента</li>
<li>ключ "description" - описание аргумента на естественном языке;</li>
</ul>
</li>
</ul>
</li>
<li>ключ "returns" - возвращаемые значения команды и ДОЛЖЕН содержать одно из следующих значений:<ul>
<li>строка "none" - команда возращает пустой словарь;</li>
<li>список словарей-отображений свойств значения:<ul>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "name" ДОЛЖЕН содержать строку имени аргумента.</li>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "unit" ДОЛЖЕН содержать строку мнемонического имени единицы измерения аргумента.</li>
<li>ключ "type" - тип аргумента</li>
<li>ключ "description" - описание аргумента на естественном языке;</li>
</ul>
</li>
</ul>
</li>
<li>ключ "description" МОЖЕТ содержать описание команды на естественном языке;</li>
</ul>
</li>
</ul>
</li>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "output" - формальное описание наборов величин, которые может послать модуль, и ДОЛЖЕН содержать одно из следующих значений:<ul>
<li>строка "none" - интерфейс не имеет выходных данных;</li>
<li>список словарей-отображений свойств величины:<ul>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "name" ДОЛЖЕН содержать строку - мнемоническое имя команды;</li>
<li>ключ "args" - свойства аргумента и ДОЛЖЕН содержать одно из следующих значений:<ul>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "name" ДОЛЖЕН содержать строку имени аргумента.</li>
<li>ОБЯЗАТЕЛЬНЫЙ ключ "unit" ДОЛЖЕН содержать строку мнемонического имени единицы измерения аргумента.</li>
<li>ключ "type" - тип аргумента</li>
<li>ключ "description" - описание аргумента на естественном языке;</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>ключ "description" МОЖЕТ содержать описание сетевого интерфейса на естественном языке;</li>
</ul>
</li>
<li>В словаре-отображении метаданных модуля в словаре-отображении свойств интерфейса ДОЛЖЕН присутсвовать хотя бы один из ключей "input" или "output".</li>
<li>Словарь метаданных модуля МОЖЕТ содержать другие ключи. Такие ключи ДОЛЖНЫ начинаться с символов "x-".</li>
</ul>
<h3 id="_10">Сетевой протокол работы супервизора</h3>
<ul>
<li>Супервизор ДОЛЖЕН использовать метаинтерфейс модуля для получения метаданных модуля.</li>
<li>Супервизор ДОЛЖЕН явно закрыть подключение к сетевому интерфейсу сразу после получения метаданных.</li>
<li>Супервизор ДОЛЖЕН использовать метаданные модуля для выбора типа сокета и метода преобразования.</li>
<li>Супервизор МОЖЕТ подавать команды через "синхронный" сокет сетевого интерфейса, если таковой определён для данного интерфейса в метаданных модуля.</li>
<li>Супервизор МОЖЕТ подписаться на получение данных от датчиков модуля через "асинхронный" сокет сетевого интерфейса, если таковой определён для данного интерфейса в метаданных модуля.</li>
</ul>
<h3 id="_11">Нормативные ссылки.</h3>
<p>[ABNFRFC] RFC 5234 — Расширенная спецификация синтаксиса Бэкуса-Наура (ABNF) https://rfc2.ru/5234.rfc/print
[ANDREEV_ER-2016]  Андреев В.П., Подураев Ю.В. Функционально-модульный принцип построения гетерогенных мобильных роботов // Экстремальная робототехника. Труды международной научно-технической конференции. – Санкт-Петербург, 2016.
[BSONSPEC] BSON http://bsonspec.org/spec.html
[JSONSPEC] ECMA-404 http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf
[MSGPACKSPEC] https://github.com/msgpack/msgpack/blob/master/spec.md
[REFERENCES]    Bradner, S., “Key words for use in RFCs to Indicate Requirement Levels”, BCP 14, RFC 2119, March 1997. URL: https://tools.ietf.org/html/rfc2119
[ZMTP/23] iMatic Corporation &amp; Contributors, ZeroMQ Message Transport Protocol https://rfc.zeromq.org/spec:23/ZMTP/
[ZMQREPREQ] iMatic Corporation &amp; Contributors, ZeroMQ Request-Reply https://rfc.zeromq.org/spec:28/REQREP/
[ZMQPUBSUB] iMatic Corporation &amp; Contributors, ZeroMQ Publish-Subscribe https://rfc.zeromq.org/spec:29/PUBSUB</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../4/ОСС/" title="4/ОСС" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                4/ОСС
              </span>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-0b7df094bf.js"></script>
      <script>app.initialize({url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>